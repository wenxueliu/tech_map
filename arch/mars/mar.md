火星车系统





通常在一天当中，每台探测车会向地球发送照片、仪器数据和状态数据。科学家根据当天及前一天的数据来做出相应的决策。然后科学家借助高增益天线，透过3个小时的直接通讯窗口，将指令发送给探测车。在接下来的20个小时内，探测车自行工作，包括执行指令并将数据传给上空的两颗卫星。探测车的指令可能是命令它前往一块新的岩石、磨削岩石、分析岩石、拍摄照片或者使用其他仪器搜集数据。

## 火星环境

1、磁场

2、风力

3、距离

4、加速

5、坐标

6、热

7、沙尘

8、登录冲击对系统和结构的影响

9、部件结构强度分析

20、组件固有频率计算和分析

21、热仿真研究



| 火星环境特点                                                 | 应对策略                                                     |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| 光照强度大约是月球表面的三分之一                             |                                                              |
| 距离地球最远距离长达4亿公里远                                | 自动导航                                                     |
| 火星的自转周期与地球接近，一个太阳日仅比地球长约40分钟，但火星的公转周期约是687天，所以火星每个季节的平均持续时间约是地球上的2倍。 | 自主休眠与唤醒模式                                           |
| 崎岖不平                                                     | 6 轮驱动                                                     |
| 秋季多发生沙尘天气，影响太阳板效率                           | 太阳翼的电池片是一种特殊的材料，叫超疏基材料；太阳的定向跟踪功能； |
| 重力为地球的                                                 |                                                              |
| 气压大约是地球大气的1%                                       |                                                              |
| 最高温度大约27摄氏度，晚上最低温度大约零下130摄氏度          | 纳米气凝胶保温                                               |
| 表面岩石由于侵蚀而导致的表层土壤坚硬、里层土壤松软           | 主动悬架设计                                                 |
| 近火点、远火点                                               |                                                              |



## 系统及功能建模

Arcadia 方法论

| 需求           | 任务及场景模型 | 功能模型 | 行为模式 | 架构模型 | 专业模型 |
| -------------- | -------------- | -------- | -------- | -------- | -------- |
| 运行场景分析   |                |          |          |          |          |
| 系统功能分析   |                |          |          |          |          |
| 逻辑架构定义   |                |          |          |          |          |
| 物理架构定义   |                |          |          |          |          |
| 专业设计及验证 |                |          |          |          |          |



系统架构是连接问题域和解决方案域的桥梁



## 系统定义

发射阶段

降落阶段

巡游阶段



## 架构原则

隔离原则

冗余原则

容错原则

集成化

轻量化

自主管理

降级

故障检测



## 上下文

卫星

着陆平台

火星车



## 架构目标

一是能够承受整个任务过程中的力学、热、辐射等空间环境；

二是落火后火星车与进入舱配合完成释放、分离任务；

三是在火昼时完成火面感知、探测、移动等工作，在火夜时进入待机状态，也就是“一夜好梦”；

四是能够适应火面环境，具有自主休眠唤醒能力。

火星车还配置了导航地形相机、多光谱相机等6种科学载荷，可以进行科学探测；

按任务要求，拥有90个火星日的设计寿命。



## 非功能约束

1、成本：技术成本，时间成本（发射窗口）

2、现有技术支持



## 逻辑架构

1. **用户界面模块：** 用户界面模块连接地球上的操作员和火星车。它提供了一个图形化界面，允许操作员监控车辆状态、发送指令和接收传感器数据。
2. **通信模块：** 通信模块负责与地球通信，以接收远程指令并将传感器数据传回地球。它与地球上的通信系统建立连接，通过高频和低频通信设备进行数据传输。
3. **导航和控制模块：** 这个模块集成了导航系统和运动控制系统。导航系统通过传感器数据和导航算法确定车辆的位置和路径，然后传递给运动控制模块。运动控制模块基于导航数据和指令，控制车辆的轮子、悬挂和转向，实现移动、导航和避障。
4. **能源管理模块：** 能源管理模块监测能源系统的状态，包括太阳能电池板、电池存储和能量转换。它确保车辆能够获得足够的能源，并根据需要分配给不同的系统。
5. **热控模块：** 热控模块监测车辆内部温度情况，并控制加热器、散热器等设备，以维持合适的工作温度。它与能源管理模块协同工作，以确保热控设备获得适当的能源供应。
6. **传感器模块：** 传感器模块包括各种传感器，如摄像头、激光测距仪、温度传感器等。它采集车辆周围环境的数据，并传递给其他模块进行处理和决策。
7. **自主避障模块：** 自主避障模块根据传感器数据检测障碍物，并与导航和运动控制模块协同工作，调整车辆的路径，避免碰撞。
8. **图像处理模块：** 图像处理模块接收摄像头捕捉的图像数据，识别地标和障碍物。它将图像处理结果传递给自主避障和导航模块，以支持路径规划和避障决策。



### 传感器模块

传感器模块是火星车的感知系统，用于获取周围环境的各种信息。这个模块通常由多个子模块组成，以收集、处理和传递不同类型的传感器数据。以下是传感器模块可能包含的一些子模块：

1. **图像传感器：** 图像传感器子模块包括摄像头和图像处理器，用于捕捉车辆周围的图像。这些图像可以用于地标识别、避障、环境感知等。
2. **激光测距仪：** 激光测距仪子模块用激光束测量物体与火星车的距离，以构建周围地形的深度图和障碍物检测。
3. **温度传感器：** 温度传感器子模块用于监测车辆内部和外部的温度情况，以帮助热控模块维持适当的工作温度。
4. **气体传感器：** 气体传感器子模块用于检测火星大气中的化学成分和气体浓度，可能对车辆的环境适应性和安全性有影响。
5. **陀螺仪和加速计：** 陀螺仪和加速计子模块用于测量车辆的姿态、角速度和加速度，以支持导航、姿态控制和运动控制。
6. **地标识别：** 地标识别子模块用于识别火星表面的地标，例如岩石、坑洞等，以帮助导航和避障。
7. **位置定位：** 位置定位子模块结合星载定位系统和地标识别，用于确定车辆在火星表面的准确位置。
8. **声音传感器：** 声音传感器子模块可能用于监测周围环境的声音变化，例如风声、机械噪音等。
9. **地形传感器：** 地形传感器子模块可能用于检测地表的变化，以支持导航和避障。
10. **辐射传感器：** 辐射传感器子模块用于监测火星的辐射水平，以评估对车辆和设备的影响。

这些子模块共同协作，使传感器模块能够获取多样化的环境信息，支持火星车在复杂的火星环境中执行任务和功能。传感器数据通过与其他模块的协作，用于导航、控制、决策和监测，从而实现火星车的自主性和适应性。



### 图像处理

图像处理是处理通过摄像头或其他图像传感器获取的图像数据的过程，以从图像中提取有用的信息和特征。图像处理模块通常由多个子模块组成，以实现图像分析、特征提取、目标识别等功能。以下是图像处理可能包含的一些子模块：

1. **图像获取：** 图像获取子模块负责从摄像头或其他图像传感器中获取原始图像数据，这些数据将用于后续的图像处理步骤。
2. **预处理：** 预处理子模块对原始图像进行预处理，包括去噪、平滑、增强和校正，以改善图像质量和准确性。
3. **特征提取：** 特征提取子模块分析图像，从中提取出有用的特征，如边缘、角点、纹理等，以帮助识别和分析图像中的目标和结构。
4. **目标检测与识别：** 目标检测与识别子模块使用特征提取的信息，对图像中的目标或物体进行识别和分类，可能使用机器学习和深度学习方法。
5. **图像分割：** 图像分割子模块将图像分成不同的区域或对象，以便更好地理解图像内容和结构。
6. **目标跟踪：** 目标跟踪子模块在连续的图像帧中追踪特定的目标，以获取目标的运动和位置信息。
7. **变换与投影：** 变换与投影子模块用于将图像从一个坐标系统转换到另一个坐标系统，以支持目标识别、地标识别等。
8. **图像融合：** 图像融合子模块将多个图像或传感器的信息融合在一起，以获得更全面和准确的图像信息。
9. **地标识别：** 地标识别子模块用于在图像中识别特定的地标或目标，以帮助导航和定位。
10. **图像压缩与传输：** 图像压缩与传输子模块用于将处理后的图像数据进行压缩，以便传输到地球或其他系统。

使图像处理模块能够将原始图像数据转化为有用的信息，支持火星车在探索和任务中的图像分析和决策。图像处理的目标是提高对环境的理解能力，以支持火星车的自主性和任务执行。



### 通信

通信模块是确保火星车与地球之间进行稳定、可靠通信的关键部分。通信模块通常由多个子模块组成，以实现数据传输、指令接收和远程控制等功能。以下是通信模块可能包含的一些子模块：

1. **发送模块：** 发送模块负责将火星车采集到的数据、图像和传感器信息编码为数字信号，然后将其传送出去。它可能涉及数据压缩、编码和调制技术，以确保高效地将数据发送到地球。
2. **接收模块：** 接收模块位于地球上的控制中心，负责接收从火星车发送的信号。它将接收到的信号进行解码和解调，将数字信号还原为可读的数据、图像和传感器信息。
3. **天线系统：** 天线用于发送和接收无线信号。通信系统通常配置高性能的定向天线，以确保在火星车和地球之间维持稳定的信号连接。
4. **通信协议：** 通信协议规定了火星车和地球之间的数据传输格式、通信频率、错误检测和纠正机制等。通信协议确保数据的正确传输和交流。
5. **数据链路控制：** 数据链路控制模块负责管理数据的发送和接收顺序，以及确保数据的完整性。它可以控制数据包的分割和重组，以适应不同的通信环境。
6. **信号放大和调制：** 为了在长距离通信中传输信号，通信模块可能需要将信号进行放大和调制，以适应通信距离的要求。
7. **冗余系统：** 为了提高通信的可靠性，通信模块可能配置冗余的通信链路和备用天线，以应对主要通信链路出现故障的情况。
8. **时序和同步：** 为了确保数据的同步传输，通信模块可能需要时序和同步模块，以确保数据的准确性和一致性。
9. **通信安全：** 通信可能受到干扰或攻击，通信模块可能需要一些安全措施，如加密和认证，以确保通信的机密性和完整性。

这些子模块共同协作，确保火星车能够与地球之间建立稳定、高效的通信连接，实现远程控制、数据传输和信息交流。通信模块的设计需要充分考虑通信的可靠性、效率和安全性。



### 驱动模块

火星车的驱动系统是确保车辆能够在火星表面进行移动和探测的核心部分。驱动系统涉及多个子模块，以实现车辆的运动控制和悬挂调节等功能。以下是可能构成火星车驱动系统的一些主要子模块：

1. **电动驱动单元：** 电动驱动单元负责控制车辆的轮子或驱动部件，使其能够转动并产生推力。这可能包括电机、变速器、传动轴等组件。
2. **悬挂系统：** 悬挂系统用于支撑车辆的重量并吸收来自地表的冲击和震动。悬挂系统可以是主动悬挂，能够调整车辆的悬挂高度和刚度，以适应不同地形。
3. **转向系统：** 转向系统控制车辆的转向，使其能够改变方向。这可能涉及到前轮的转向机构，以及与导航系统协同工作，实现精确的转向。
4. **制动系统：** 制动系统用于减缓车辆的速度或停止车辆。在火星的低重力环境中，制动系统需要适应不同的制动力，以确保平稳停车。
5. **差速器：** 差速器允许车辆的两个轮子以不同速度旋转，以应对转弯等情况。这在保持车辆稳定性和操控性方面非常重要。
6. **驱动能源管理：** 驱动系统可能需要与能源系统协同工作，确保电动驱动单元获得足够的能源，并合理分配能源以支持车辆的运动。
7. **转向能源管理：** 类似驱动系统，转向系统可能也需要与能源系统协同工作，确保转向机构获得足够的能源以实现精确的转向。 

这些子模块共同协作，确保火星车能够在火星表面平稳移动、精确转向和避免碰撞。驱动系统的设计需要考虑地表环境、悬挂需求、导航要求等多个方面的因素。

### 导航与控制

导航与控制模块是确保火星车能够在火星表面准确移动、导航和避障的核心部分。这个模块通常由多个子模块组成，以实现路径规划、姿态控制、避障决策等功能。以下是导航与控制模块可能包含的一些子模块：

1. **位置估计模块：** 位置估计模块使用传感器数据，如惯性测量单元（IMU）、星载定位系统、地标识别等，来估计火星车在火星表面的准确位置。这个信息是导航和控制的基础。
2. **路径规划模块：** 路径规划模块基于目标位置和当前位置信息，计算车辆需要遵循的最优路径。这个模块可能使用规划算法，考虑地形、障碍物、能源消耗等因素。
3. **运动控制模块：** 运动控制模块接收路径规划和导航数据，控制车辆的轮子、驱动单元、悬挂和转向等，以实现车辆的平稳移动和导航。它可能包括速度控制、加速度控制等。
4. **姿态控制模块：** 姿态控制模块负责维持火星车的稳定姿态，确保车辆保持水平，避免翻倒或不稳定的情况。
5. **避障决策模块：** 避障决策模块根据传感器数据检测周围的障碍物，然后根据导航数据和路径规划，做出调整路径或避让障碍物的决策，以避免碰撞。
6. **自主导航模块：** 自主导航模块结合位置估计、路径规划和避障决策，实现车辆在未知或复杂地形上的自主移动。它可以基于地标识别、地形传感器等实现定位和导航。
7. **遥控模块：** 遥控模块允许地球上的操作员远程发送指令，以调整车辆的运动、导航和避障。这个模块可能与通信模块紧密集成。
8. **运动规划模块：** 运动规划模块负责将路径规划转化为具体的轮子转动、速度变化等运动控制指令，以实现车辆的平稳移动。
9. **惯性测量单元（IMU）：** IMU 负责测量火星车的加速度和角速度，以推断车辆的位置和姿态。它通常包括加速度计和陀螺仪，用于跟踪车辆的动态变化。
10. **星载定位系统：** 在火星等行星上，GPS信号可能不稳定或不可用。星载定位系统使用其他星体（如火星上的星星）作为参考点，通过观测星体的位置来进行定位和导航。

这些子模块共同协作，使导航与控制模块能够在复杂的火星环境中实现准确的移动、导航和避障。这种协作使火星车能够按照预定路径安全地移动，并根据环境和任务的需求做出适当的调整。



### 控制

控制系统是确保火星车能够根据任务需求执行准确运动和操作的核心部分。控制系统通常由多个子模块组成，以监测、计算和调整车辆的状态和行为。以下是控制系统可能包含的一些子模块：

1. **传感器接口：** 传感器接口子模块负责接收来自各种传感器的数据，如位置、速度、姿态、温度等，以实时监测车辆的状态。
2. **目标设置：** 目标设置子模块接收来自任务计划的目标和路径信息，以确定车辆应该如何移动和行动。
3. **状态估计：** 状态估计子模块根据传感器数据，估计车辆的位置、速度、姿态等状态，以供控制决策使用。
4. **控制算法：** 控制算法子模块基于目标和状态估计，计算出车辆需要采取的具体动作，如转向角度、速度指令等。
5. **反馈控制：** 反馈控制子模块监测车辆的实际运动和状态，与预期目标进行比较，进行实时调整，以保持车辆的稳定性和准确性。
6. **运动规划：** 运动规划子模块将目标和控制算法转化为具体的运动轨迹和指令，以支持车辆的平稳移动和操作。
7. **动态调整：** 动态调整子模块在遇到不可预测情况时，如障碍物出现或环境变化，对运动规划和控制算法进行调整，以确保车辆的安全和任务执行。
8. **自适应控制：** 自适应控制子模块根据环境变化和车辆状态，调整控制策略，以适应不同的工作条件。
9. **模式切换：** 模式切换子模块可能会根据不同的任务阶段和需求，切换控制模式，如导航模式、避障模式、探测模式等。
10. **故障检测与处理：** 故障检测与处理子模块监测车辆的硬件和软件状态，识别故障并采取措施，如切换备用系统、发送警报等。

这些子模块共同协作，使控制系统能够根据任务需求实现车辆的精确运动和操作。控制系统的目标是确保车辆的稳定性、安全性和准确性，以支持各种任务，如探索、采样、图像捕获等。



### 自主避障

自主避障是确保火星车在移动过程中能够识别、规避障碍物以保持安全的关键功能。这个模块通常由多个子模块组成，以实现障碍物检测、路径规划和避障决策。以下是自主避障可能包含的一些子模块：

1. **障碍物检测：** 障碍物检测子模块负责从传感器数据中识别周围的障碍物，如岩石、坑洞、植被等。它可能使用图像传感器、激光测距仪等获取障碍物的位置和距离。
2. **环境感知：** 环境感知子模块综合各种传感器数据，构建火星车周围环境的模型，以帮助车辆理解周围的地形和障碍物分布。
3. **路径规划：** 路径规划子模块根据车辆的位置、目标和检测到的障碍物，生成避障路径，以确保车辆能够绕过障碍物安全行驶。
4. **避障决策：** 避障决策子模块基于环境感知和路径规划，做出实时决策，选择最佳的避障策略，以规避障碍物并避免碰撞。
5. **动态避障：** 动态避障子模块处理突发情况，如障碍物的移动、未知的障碍物等，通过动态调整路径和速度，以应对变化的环境。
6. **路径跟踪：** 路径跟踪子模块负责控制车辆按照避障路径移动，确保车辆准确遵循规划的路径。
7. **避障反馈：** 避障反馈子模块可能会将车辆的避障情况反馈给其他系统，如导航和控制模块，以便调整导航和运动控制策略。
8. **紧急避障：** 紧急避障子模块处理紧急情况，如障碍物突然出现在车辆前方，它可能会触发紧急制动或转向，以避免碰撞。

这些子模块共同协作，使自主避障模块能够帮助火星车在未知和复杂环境中实现安全的移动。自主避障的目标是保障车辆、设备和任务的安全性，同时优化车辆的导航和路径规划，以确保任务的成功执行。





### 热控

热控是确保火星车在火星的极端温度环境下保持合适工作温度的重要模块。热控模块通常由多个子模块组成，以监测、调节和维持车辆内部的温度。以下是热控可能包含的一些子模块：

1. **热绝缘和隔热：** 为了保护车辆内部部件免受火星极端温度的影响，热绝缘和隔热材料可能被应用在车辆的外部壳体上，以减少热量的传导和辐射。
2. **温度传感器：** 温度传感器子模块分布在火星车的不同部位，用于实时监测车辆内部和外部的温度变化。这些传感器提供了温度数据，供其他子模块使用。
3. **热辐射：**热辐射系统子模块通过调整车辆表面的辐射能量，帮助车辆在寒冷的火星夜晚保持温暖。它可以在需要时放射热量，以防止内部部件过冷。
4. **热散热器：** 热散热器子模块用于将车辆内部产生的过多热量散发到外界，以保持车辆的工作温度在可接受范围内。
5. **加热器：** 加热器子模块可以在寒冷的环境中为车辆内部的部件提供额外的热源，以防止过冷和损坏。例如，电池在低温下的性能可能会受到影响，因此需要加热来维持适宜的工作温度。
6. **热管理：** 温度调节子模块基于传感器数据和预设温度范围，控制加热器和热散热器的工作，以维持车辆内部的温度在合适范围内。 
7. **热能量分配：** 火星车内部不同的部件可能需要不同的工作温度。热能量分配模块可以确保能源被有效地分配到需要的地方。
8. **能源管理：** 能源管理子模块与热控模块协同工作，确保热控设备获得足够的能源供应，以支持车辆的温度调节。
9. **热保护：** 热保护子模块可以监测车辆内部部件的温度，当温度达到危险水平时，触发防止过热的措施，以保护车辆的完整性和性能。
10. **温度监控与报告：** 温度监控与报告子模块生成关于车辆内部温度的报告，并在温度异常或危险情况下发送警报或通知。

这些子模块共同协作，使热控模块能够在火星的极端温度环境下维持车辆的工作温度在可接受范围内。热控的目标是确保车辆内部部件不受过热或过冷影响，从而保障车辆的正常运行和任务执行。



### 能源管理

能源管理是确保火星车能够获取稳定能源供应以支持各项功能和任务的关键部分。能源管理模块通常包含多个子模块，以监测、优化和分配能源。以下是能源管理可能包含的一些子模块：

1. **能源源：** 能源系统的核心是能源源，它提供车辆所需的能量。在火星上，主要采用的多任务放射性同位素热电发生器(MMRTG)作为主要能源源，锂电池作为辅助能源源。
2. **电池存储**：同位素热电发生器发生的多于电能存储到锂电池。
3. **能源源监测：** 能源管理模块可能包括能源源监测子模块，用于激光同位素发热器、锂电池的状态和能源转换的效率等信息。
4. **能源状态评估：** 能源状态评估根据太阳辐射、电池状态和能源使用情况等信息，评估车辆的能源供应状况，以预测能源消耗和剩余能量。
5. **能源优化：** 能源优化子模块分析车辆的能源需求和资源，制定能源分配策略，以最大限度地延长车辆的运行时间和效率。
6. **能源分配控制：** 能源分配控制子模块基于能源状态评估和优化策略，控制能量的分配，确保各个部件获得足够的能源供应。
7. **电源管理和分配：** 电源管理模块负责监控电池的状态，判断电池是否需要充电，并将能量分配给各个部件，确保车辆的正常运行。
8. **能源转换：** 太阳能电池板产生的直流电能通常需要转换为车辆内部各个部件所需的不同电压和频率。能源转换模块负责这些电能的变换和调节。
9. **能源预测：** 能源预测子模块使用历史能源数据、太阳辐射预测等信息，预测未来能源供应情况，以帮助规划车辆的活动。
10. **能源报告与通知：** 能源报告与通知子模块生成能源使用情况的报告，并在能源短缺或其他问题时向地球控制中心发送通知。
11. **能源备份：** 为了应对突发情况，能源管理模块可能包括能源备份子模块，以确保在主要能源源故障时继续供电。
12. **能源效率改进：** 能源管理模块可以包括能源效率改进子模块，用于优化同位素发热器的热能，以提高整体能源利用效率。

这些子模块共同协作，使能源管理模块能够根据不同情况实现稳定的能源供应，以支持火星车的各项功能和任务。能源管理的目标是延长车辆的运行时间，提高能源的利用效率，并确保在能源不足的情况下采取适当的措施。





```
@startuml

!define METADATA
!define LAYOUT_NEWLINE
!define STYLE_CLASS_BACKGROUND #AEEEEE
!define STYLE_CLASS_BORDERCOLOR #003366
!define STYLE_CLASS_TEXTCOLOR #003366
!define STYLE_CLASS_HEADERCOLOR #003366

!define STYLE_PACKAGE_BACKGROUND #F0F8FF
!define STYLE_PACKAGE_BORDERCOLOR #0066CC
!define STYLE_PACKAGE_TEXTCOLOR #0066CC

!define STYLE_COMPONENT_BACKGROUND #FFFFFF
!define STYLE_COMPONENT_BORDERCOLOR #999999
!define STYLE_COMPONENT_TEXTCOLOR #000000

!define STYLE_ARROW_COLOR #008000
!define STYLE_ARROW_THICKNESS 2


title 火星车L1逻辑架构

!define COMPONENT_PACKAGE
package "火星车系统" as mars_rover_system {
    [通信模块]
    [导航与控制模块]
    [能源管理模块]
    [驱动系统模块]
    [热控系统模块]
    [传感器模块]
    [图像处理模块]
    [驱动系统模块]
}

[传感器模块] -down-> [图像处理模块] : 传感器数据
[传感器模块] -down-> [导航与控制模块] : 传感器数据
[传感器模块] -down-> [通信模块] : 传感器数据
[图像处理模块] -down-> [导航与控制模块] : 图像处理结果
[图像处理模块] --> [通信模块]: 影像
[通信模块] --> [导航与控制模块]: 地球指令
[导航与控制模块] -up-> [驱动系统模块]: 移动指令
[能源管理模块] -up-> [导航与控制模块] :能量
[能源管理模块] -up-> [热控系统模块]: 热能

@enduml
```





```
@startuml

package "火星车系统" {
    package "通信模块" {
        [通信接口]
        [数据传输]
    }
    
    package "导航与控制模块" {
        [位置定位]
        [路径规划]
        [运动控制]
    }
    
    package "控制系统" {
        [传感器接口]
        [任务调度]
        [通信管理]
        [错误处理]
    }
    
    package "能源管理模块" {
        [能源监测]
        [能源优化]
        [能源分配控制]
    }
    
    package "热控模块" {
        [温度传感器]
        [加热器]
        [热散热器]
    }
    
    package "传感器模块" {
        [图像传感器]
        [激光测距仪]
        [温度传感器]
        [气体传感器]
    }
    
    package "图像处理模块" {
        [图像获取]
        [预处理]
        [目标识别]
    }
}

通信模块 --> 导航与控制模块
导航与控制模块 --> 控制系统
导航与控制模块 --> 能源管理模块
导航与控制模块 --> 热控模块
导航与控制模块 --> 传感器模块
导航与控制模块 --> 图像处理模块

@enduml

```





数管

供配电

测控数传

热控

结构与机构

移动

工程测量

GNC

有效载荷



数据保护



## 场景定义

基于生命周期

1、着陆

2、移动

3、通讯

4、采集

5、拍照

6、休眠

7、待机



功能要求

1、着陆准确

2、越障运行





## 功能定义

蠕动脱陷

蠕动爬坡

车厢升降防托底

悬架主动折展

车轮抬起



尺蠖运动：配合车体升降，在松软地形上前进或后退

车体升降：在火星极端环境表面可以利用车体升降摆脱沉陷

抬轮排故：遇到车轮故障的情况，通过质心位置调整及夹角与离合的配合，将故障车轮抬离地面，继续行驶

## 用例





## 核心功能



### 通信

火星车的超高频天线 -》中继卫星 -》大型卫星天线



### 运动模式

标称运动模式完成直线行走、转向 行走、蟹行等功能。

主动悬架模式完成车体升降、车轮升降、蠕动等功能。



操作性/运行分析

火星车外部对火星车的要求

定义各利益相关方的需求和环境



## 系统分析

正规化的系统需求

OA  -> SA  -> LA -> PA



OA 数据流图 -> 系统任务 -> 指定角色能力 -> 功能场景/链 -> 功能接口 -> 系统分析架构



LA 功能流&组件 -> 从 LA 转换  -> 定义行为组件 -> 通过场景 定义物理行为 -> 定义行为交互接口 -> 物理架构图 -> 火星车





最终产品分解结构（EPBS）

结构

1、电子恒温箱：包括计算机中枢，锂电池、无线电及其放大装置，所有无法抵御零下100度低温的器件都被置于恒温箱中。

2、立柱

3、车轮

4、定向天线

5、遥感桅杆

6、危险相机

7、导航地形相机：拍摄广角图片，指导火星车的移动

8、火星气象测量仪：用于监测[火星表面温度](https://baike.baidu.com/item/火星表面温度/22367997?fromModule=lemma_inlink)，压力，[风场](https://baike.baidu.com/item/风场/4776855?fromModule=lemma_inlink)和声音等的时间和空间变化。

9、Pancam是一种多光谱的立体全景成像系统

10、计算机：耐辐射，能够抵御火星上的太空辐射。采用Wind River Systems公司的[VxWorks](https://www.baike.com/wikiid/68521687660981946?from=wiki_content&prd=innerlink)（PDF）实时操作系统



探测车有3对共6台导航摄像机，每组摄像机得到的立体图像都要交由计算机处理。利用双目视觉算法，计算机能够辨认出视野中不同岩石的大小以及距离。利用这些信息，计算机可以绘制出包含附近所有障碍物的地图，并操纵探测车在移动时避开障碍物。



通讯

1、网络控制器

2、通讯控制器



软件

1、系统软件

2、通讯软件



操作

1、机械臂

2、转向器

3、钻探器



电脑

1、电脑系统

2、计算机控制系统

3、大气传感器

4、环境传感器

5、气象测量仪



科学仪器

1、辐射仪

2、陀螺仪

3、光谱仪

4、加速器

5、成像仪

6、显示器

7、WiFi 分离相机

8、表面成分探测仪

9、次表层探测雷达

10、表面磁场探测仪

11、多光谱相机

12、地形相机

13、氧化资源转化仪器（二氧化碳转化氧气）



显示

1、控制器

2、显示器



### 操作系统



太阳能

放射性同位素热点发电机



安全性：





#### 驱动系统

车轮：六驱

连杆



### 载荷系统

### 数传系统





## 通信系统

第一种是低能耗、低速的**UHF无线电**。这种通讯的连接方式使用低增益、全方向的天线。该天线不需要任何定向，能以较低的数据率把数据传回地球或传给人造卫星。这是一种“万不得已”时的通讯方式。

第二种是高速UHF无线电，负责和两颗已运行在火星轨道的卫星进行通讯——“火星奥德赛”和“火星全球勘测者”卫星。当一颗卫星出现在探测车上空时，探测车会把数据快速注入卫星，持续的时间大概为8分钟（每次卫星通过时）。探测车能以每秒128Kbit的速度发送数据，使用的无线电功率为15瓦。接着，当地球出现在卫星视野中时，卫星利用2.5米长的天线和100瓦功率的无线电设备再将数据传回地球。这就是大部分照片数据返回地球的方式。每天通过这些通道传回地球的数据可达10MB。

探测车上直径0.3米的定向（高增益）天线。当地球出现在探测车视野范围内时，**探测车天线**能追踪到地球并实现与地球上的科学家和工程师的直接通讯。由于地球与火星之间距离为3.22亿公里，所以通讯时会有20分钟的往返延时。探测车使用40瓦的无线电，每分钟只能传递12Kbit的数据。因为这是一种直接连接，所以NASA用它来向探测车发送指令和接收重要数据。然而，由于行星的排列以及无线电所需能量等原因，这种连接在一天当中的可用时间只有3个小时。



超高频天线（UHF Antenna）

低增益天线：接收来自地球的控制信息



#### UHF频段中继通信系统设计

![火星车中继通信](火星车中继通信.jpeg)

工作模式

火面巡视探测阶段，由火星车通过UHF频段收发信机和UHF频段中继天线与环绕器建立双向中继通信链路。具体工作模式详见

| 工作模式             | 码速率                                                       | 载波频率                                                     | 工作内容                                                     |
| -------------------- | ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
| 分离及EDL过程通信    | 前向：2 kb/s（编码后）返向：2 kb/s（编码后）                 | 接收：444.6 MHz；发射：393.3 MHz                             | 传输进入舱遥测数据等内容                                     |
| 火星表面工作过程通信 | 前向：1~64 kb/s（编码后）返向：1、2、4、8、16、32、64、128、256、512、1 024、2 048 kb/s（编码后） | 接收：435.6、437.1、439.2、444.6 MHz；发射：404.4、401.585 625、397.5、393.3 MHz | 传输火星车有效载荷设备数据、工程参数、图像和器上遥测数据等内容 |

主要技术指标

通信体制

UHF频段中继系统采用曼彻斯特编码辅助残留载波BPSK调制的方式实现。通过采用小于π/2（弧度）的调制指数，使得信号频谱中出现离散（残留）的载波分量。同时，曼彻斯特编码功率谱密度在零频率处为零，调制信号与残留载波分量可以有效分离，通过精细滤波和窄带宽环路跟踪，实现对载波的提取跟踪。

针对残留载波调制的特点，利用科斯塔斯鉴相跟踪方式，将载波锁定在I支路，信息锁定在Q支路，避免解I、Q相位翻转的问题，减小了处理复杂度；通过多级滤波抽取模块，提取出各速率档抽头，将除载波以外的其他信息全部滤除，实现极低信噪比的跟踪；利用曼彻斯特编码的特点，将各速率抽头上的Q支路信号进行匹配相关和能量积分，通过正负能量累加判决，可在没有先验信息的情况下判断出当前传输数据的速率，实现通信码速率的自适应估计与解调

信道编码

UHF频段中继通信系统采用卷积码作为信道编码方式。卷积码采用CCSDS推荐的（7， 1/2）卷积码，在1×10-6的误码率情况下可取得约4.5 dB的信道编码增益。

中继通信协议

UHF频段中继通信系统双向通信采用CCSDS邻近空间链路协议（Proximity‑1）。火星探测任务的通信距离远，地面遥控指令时延大且弧段时间有限，无法实时控制，UHF频段中继通信的智能化和可靠性需求迫切，具体包括：需具备自主建立通信及结束通信的能力，从而摆脱对地面精确控制的依赖；需具备智能变更通信参数的能力，从而以紧贴信道的香农限进行通信，使通信弧段内传输的数据量最大；需具备自主错误重传的能力，确保前向指令和返向科学探测数据的正确性；具备重传跳出的能力，确保中继通信不中断。

（1）通信自主建立及自主结束设计

（2）通信速率自适应切换设计

（3）前返向高可靠通信设计

（4）重传跳出设计

3.3.4　码速率

针对EDL过程及环火中继轨道动态特性，探测器UHF频段中继通信系统前向支持7挡码速率，为1~64 kb/s（2*N*，*N*=0~6），返向支持12挡码速率，为1~2 048 kb/s（2*N*，*N*=0~11）。

在火星表面工作的近火段，环绕器通过UHF窄波束（±30°）实现对着陆巡视器的双向通信，并根据中继轨道变化返向码速率从1~2 048 kb/s自适应切换；在火星表面工作的远火段，通信码速率保持固定不变，前返向均为1 kb/s。



#### 通信链路设计与分析

UHF频段中继通信工作过程

（1）两器分离至环绕器抬轨

（2）环绕器抬轨完成至着陆巡视器火星大气进入

（3）EDL阶段（背罩分离前）

（4）EDL阶段（背罩分离后）

（5）火星表面工作阶段（环绕器中继轨道运行）

为保证稳定的中继通信弧段，中继轨道设计成天回归轨道，考虑到停泊轨道和遥感轨道的衔接，探测器标称中继轨道选择1天运行3圈的回归轨道，轨道周期约8.2 h。UHF频段中继通信链路的前向码速率为32 kb/s（编码后），返向码速率根据两器距离可在1~2 048 kb/s（编码后）间切换。近火通信弧段时长约10 min，由于两器距离较近，返向码速率峰值可达到2 048 kb/s（编码后），可用于下传工程遥测和大数据量载荷数据等。远火通信弧段通信时长较长，可达数个小时，但通信距离较远，导致期间UHF频段中继通信返向码速率降至系统最低值1 kb/s（编码后）。

落火后，两器最大通信距离可达15 000 km，由于两器UHF频段中继天线在不同的波束范围区域内天线增益不同，仅能在两器UHF频段中继天线±30°波束内实现最远15 000 km通信。近火通信弧段前向码速率保持32 kb/s，返向码速率在1~2 048 kb/s间切换；远火通信弧段前返向码速率保持1 kb/s。

火面工作阶段，UHF频段中继通信时机示意图

![火星车通信](火星车通信.jpeg)







1、发送图像

2、发送坐标

3、指令接收



### 存储系统

图片保存

指令保存



### 导航系统

摄像头移动

移动控制

路径规划：

自动规划导航：障碍物检测、避障、越障



### 成像系统

目标检测



### 安全系统

1、加解密



### 数据保护系统



## DFX

可靠性

可用性

可维护性

安全性

失效模式





1、外部天气：风力、雨

2、温度： -100度

3、熔断

4、重试

5、bit 翻转

6、热平衡



## 指令集

初始化指令

移动指令

转向指令



### 远程控制

1、批量发送，回传坐标





### 参考

[“天问一号”火星探测器UHF频段中继通信系统设计](https://jnuaa.nuaa.edu.cn/njhkht/article/html/202205007)

[祝融号火星车重要数据保护设计与实现](http://journal26.magtechjournal.com/kjkxjs/CN/article/downloadArticleFile.do?attachType=PDF&id=11464)

https://www.baike.com/wikiid/8564565839272985675?view_id=39vrhdzynjo000

https://www.planetary.org/articles/08190630-curiosity-wheel-damage 

大模型

```
假设你是一名航天技术设计师，按照如下要求设计一辆火星车，请给出火星车的设计的场景：
1、火星车可以在火星表明移动，获取火星车周边影像信息并回传地球
2、火星车探测为着陆器周围100 公里
3、火星车可以在地球远程控制
4、火星车电源采用采用多任务型同位素电源。采用主动悬架式运动。
```



